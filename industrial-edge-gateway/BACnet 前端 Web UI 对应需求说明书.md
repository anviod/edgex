

# BACnet 前端 Web UI 对应需求说明书（PRD）


本系统**必须满足本文档中定义的全部功能性要求**，作为软件开发、测试验收与项目交付的依据。

---

## 2. 功能需求

---

## 2.1 设备管理模块（Device Management）

### 2.1.1 设备发现与注册

#### 功能描述

系统应支持通过 BACnet 标准协议自动发现网络中的设备，并将其纳入管理系统。

#### 功能要求

* 支持一键扫描 BACnet 设备（Who-Is / I-Am）
* 系统必须展示以下设备字段：

  * DeviceInstance
  * 设备名称
  * Vendor / Model
  * IP 地址 / 网络号
  * 在线状态
* 系统必须支持：

  * 自动注册发现的设备
  * 手动添加设备
  * 编辑设备信息
  * 删除设备

#### 验收标准

* 扫描操作后，设备列表实时更新
* 重复扫描不产生重复设备
* 设备状态变化（上线/离线）可实时反映在 UI 中

---

## 2.2 对象与点位管理模块（Object & Point Management）

### 2.2.1 对象浏览（Object Explorer）

#### 功能描述

系统应支持查看 BACnet 设备的对象结构及点位信息。

#### 功能要求

* 系统应支持以下层级展示结构：

  * Device → Object Type → Object Instance
* 支持树形视图或表格视图切换
* 支持筛选条件：

  * 按对象类型（AI / AO / AV / BI / BO / BV）
  * 按点位名称
  * 按单位
  * 按描述字段

#### 验收标准

* objectList 加载完整，无丢失、无重复
* 大量对象场景下支持分页、搜索与排序

---

### 2.2.2 点位详情页（Point Detail View）

#### 功能描述

系统应提供点位级别的详细信息展示与编辑能力。

#### 功能要求

点位详情页必须展示并支持编辑以下属性：

* Object Identifier
* Object Name
* Present Value（实时刷新）
* Units
* Status Flags
* Description
* Reliability
* Priority Array（如支持写入）

#### 验收标准

* Present Value 实时刷新稳定
* 属性编辑后立即生效并持久化

---

## 2.3 点位读写与控制模块（Read / Write / Control）

### 2.3.1 点位控制能力

#### 功能描述

系统应支持对 BACnet 可写点位进行远程控制。

#### 功能要求

* 支持以下对象类型写入：

  * AO（Analog Output）
  * BO（Binary Output）
  * AV（Analog Value）
  * BV（Binary Value）
* 支持写入模式：

  * 普通写入
  * 优先级写入（Priority 1~16）
  * 释放写入（NULL 写入）
* 写入结果必须即时反馈：

  * 成功
  * 失败
  * 无权限

#### 验收标准

* 写入后应自动回读并验证写入结果
* 写入失败需给出明确错误提示

---

## 2.4 网络与通信状态可视化模块

### 2.4.1 BACnet 通信状态面板

#### 功能描述

系统应提供 BACnet 网络运行状态的整体可视化界面。

#### 功能要求

* 系统必须展示以下统计信息：

  * 在线设备数
  * 离线设备数
  * 当前通信速率
  * 错误统计（超时、拒绝、无响应）
* 系统必须支持在网络异常时：

  * 定位到具体设备
  * 显示对应错误类型

#### 验收标准

* 网络异常发生后 5 秒内 UI 反映状态变化
* 错误统计数据准确、可追溯

---

## 2.5 自动建模与配置管理模块

### 2.5.1 自动点位建模管理

#### 功能描述

系统应支持基于 BACnet 对象自动生成点位模型，并支持后续编辑与维护。

#### 功能要求

* 从 objectList 自动生成点位模型
* 支持以下模型管理能力：

  * 点位重命名
  * 标签管理
  * 分组管理
  * 区域归属配置
  * 模型编辑
  * 模型重生成

#### 验收标准

* 自动建模完成后无需人工配置即可开始采集
* 模型变更后可立即生效并持久化

---

### 2.5.2 批量操作能力

#### 功能描述

系统应支持对设备与点位进行批量化操作，以提升工程配置效率。

#### 功能要求

* 支持：

  * 批量启停采集
  * 批量修改采集周期
  * 批量点位写入（可选项）

#### 验收标准

* 批量操作过程可视化进度与结果反馈
* 单个失败不影响整体任务执行

---

## 2.6 系统运维与诊断模块

### 2.6.1 通信日志查看

#### 功能描述

系统应提供 BACnet 通信日志的可视化查询能力。

#### 功能要求

* 支持查看 BACnet 请求/响应摘要日志
* 支持日志筛选条件：

  * DeviceID
  * ObjectID
  * 错误类型
* 支持日志下载功能

#### 验收标准

* 日志查询响应时间 ≤ 2 秒（常规规模）
* 下载日志格式规范、内容完整

---

### 2.6.2 设备调试工具（推荐功能）

#### 功能描述

系统应内置 BACnet 调试工具，用于工程调试与问题排查。

#### 功能要求

* 支持：

  * 单点 ReadProperty 测试
  * 单点 WriteProperty 测试
  * Who-Is / I-Am 手动触发
  * objectList 重新拉取

#### 验收标准

* 调试工具操作结果可即时反馈
* 调试过程不影响正常采集流程

---

## 3. 最小可交付功能集（MVP）

系统交付时必须至少包含以下功能模块：

| 模块   | 必须具备功能               |
| ---- | -------------------- |
| 设备管理 | 扫描、注册、状态显示           |
| 点位管理 | objectList 浏览、点位详情   |
| 实时数据 | Present_Value 实时显示   |
| 点位控制 | AO / BO / AV / BV 写入 |
| 日志   | 通信与操作日志              |

---

## 4. 验收说明

* 本文档为 BACnet Web UI 产品功能验收的**唯一功能基线文档**。
* 未满足任一强制功能要求，视为产品未通过验收。
* 推荐将本文档拆解为：
